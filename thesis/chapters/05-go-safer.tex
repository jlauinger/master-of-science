%% ---------------------------------------------------------------------------------------------------------------------

\chapter{\textit{go-safer}: Detecting Unsafe Misuses}\label{ch:go-safer}

Another major contribution of this thesis is the development of \toolSafer{}, a \toolVet{}-style, open-source linter
tool.
It can identify some of the unsafe code patterns described in Chapter~\ref{ch:unsafe-security-problems}.
This chapter describes the design and implementation of \toolSafer{}, as well as an evaluation of its effectiveness.

\input{assets/figures/chapter5/outline5.tex}


%% ---------------------------------------------------------------------------------------------------------------------

\section{Design}\label{sec:go-safer:design}

\toolSafer{} is available on \github{}\footnote{\url{https://github.com/jlauinger/go-safer}}.

\input{assets/figures/chapter5/go-safer-architecture.tex}

\input{assets/listings/chapter5/go-safer-sliceheader-pass.tex}

\input{assets/listings/chapter5/go-safer-structcast-pass.tex}

Usage: \textit{go-safer ./my/package}

\input{assets/images/chapter5/go-safer-screenshot.tex}


%% ---------------------------------------------------------------------------------------------------------------------

\section{Implementation}\label{sec:go-safer:implementation}

Go vet analysis pass infrastructure
Low-level details
Verification with tests


%% ---------------------------------------------------------------------------------------------------------------------

\section{Evaluation}\label{sec:go-safer:evaluation}


%% ---------------------------------------------------------------------------------------------------------------------

\subsection{Labeled Usages}\label{subsec:go-safer:evaluation:labeled-usages}

Precision, Recall, calculated using manually labeled usages data set

\input{assets/tables/chapter5/go-safer-evaluation-dataset.tex}


%% ---------------------------------------------------------------------------------------------------------------------

\subsection{Case Studies}\label{subsec:go-safer:evaluation:case-studies}

Manual inspection of some projects, used to calculate precision / recall of go-safer

\input{assets/tables/chapter5/go-safer-evaluation-packages.tex}


%% ---------------------------------------------------------------------------------------------------------------------

\subsection{Comparison with Existing Tools}\label{subsec:go-safer:evaluation:linters-comparison}

Go vet / Gosec
